{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default {\n    galleryEl : document.querySelector('.gallery'),\n    srhFormEl: document.querySelector('#search-form'),\n    spinner: document.querySelector('.loader'),\n} \n","const key= '35244614-3f1384186f27e7cacc119fb8b'\n\nexport const loadPictures = async (q) => {\n  const response = await fetch(`https://pixabay.com/api/?key=${key}&q=${q}\n    &image_type=photo&orientation=horizontal&safesearch=true`);\n  \n  if (!response.ok) {\n    throw new Error(`Ошибка загрузки: ${response.status}`);\n  }\n\n  const pictures = await response.json();\n  return pictures;\n};","import refs from \"./refs\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet gallery = new SimpleLightbox('.gallery a', {\n    enableKeyboard: true,\n    captionPosition: 'bottom',\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionDelay: 250,\n    showCounter: false,\n});\n\nexport function renderGallery(pictures) {\n    let markUp = \"\";\n    markUp = pictures.hits.map((elem) => `<div class=\"photo-card\">\n            <a class=\"gallery-link\" href=\"${elem.largeImageURL}\">\n                <img src=\"${elem.webformatURL}\" alt=\"${elem.tags}\" width=\"360\" height=\"200\" loading=\"lazy\"/> \n            </a>\n            <ul class=\"info\">\n                <li class=\"info-item\">\n                    <b>Likes</b>\n                    <p>${elem.likes}</p>\n                </li>\n                <li class=\"info-item\">\n                    <b>Views</b>\n                    <p>${elem.views}</p>\n                </li>\n                <li class=\"info-item\">\n                    <b>Comments</b>\n                    <p>${elem.comments}</p>\n                </li>\n                <li class=\"info-item\">\n                    <b>Downloads</b>\n                    <p>${elem.downloads}</p>\n                </li>\n            </ul>\n        </div>`).join(\"\");\n    refs.galleryEl.insertAdjacentHTML(\"beforeend\", markUp);\n    gallery.refresh();\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport refs from './js/refs';\nimport { loadPictures } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nlet query=\"\";\nrefs.spinner.style.display = \"none\";\nrefs.srhFormEl.addEventListener(\"submit\", (event) => {  \n    event.preventDefault();\n    query = (refs.srhFormEl.elements[0].value).trim();\n    if (query === \"\") {\n        console.log(\"return\");\n        event.currentTarget.reset();\n        return\n    };\n    event.currentTarget.reset();\n    refs.srhFormEl.children[1].setAttribute('disabled', 'true');\n    refs.galleryEl.innerHTML = \"\";\n    refs.spinner.style.display = \"inline-block\";\n    loadPictures(query)\n        .then((pictures) => {\n            if (pictures.hits.length > 0) {\n                iziToast.show({ message: `Hooray! We found ${pictures.totalHits} images. Load - ${pictures.hits.length}`, \n                        position: 'topRight',\n                        backgroundColor: 'blue',\n                        messageColor: 'white',\n                })\n                renderGallery(pictures);\n            }\n            else { iziToast.show({message:`Sorry, there are no images matching your search query: \"${query}\". Please try again!`,\n                position: 'topRight',\n                backgroundColor: 'red',\n                messageColor: 'white',\n            }) };\n        }).catch((error) => {\n            console.log(error);\n        }).finally(() => {\n            setTimeout(() => { refs.srhFormEl.children[1].removeAttribute('disabled'); }, 3000);\n            refs.spinner.style.display = \"none\";\n        });\n});\n"],"names":["refs","key","loadPictures","q","response","gallery","SimpleLightbox","renderGallery","pictures","markUp","elem","query","event","iziToast","error"],"mappings":"6vBAAA,MAAeA,EAAA,CACX,UAAY,SAAS,cAAc,UAAU,EAC7C,UAAW,SAAS,cAAc,cAAc,EAChD,QAAS,SAAS,cAAc,SAAS,CAC7C,ECJMC,EAAK,qCAEEC,EAAe,MAAOC,GAAM,CACvC,MAAMC,EAAW,MAAM,MAAM,gCAAgCH,CAAG,MAAME,CAAC;AAAA,6DACZ,EAE3D,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,oBAAoBA,EAAS,MAAM,EAAE,EAIvD,OADiB,MAAMA,EAAS,MAElC,ECRA,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC3C,eAAgB,GAChB,gBAAiB,SACjB,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,aAAc,IACd,YAAa,EACjB,CAAC,EAEM,SAASC,EAAcC,EAAU,CACpC,IAAIC,EAAS,GACbA,EAASD,EAAS,KAAK,IAAKE,GAAS;AAAA,4CACGA,EAAK,aAAa;AAAA,4BAClCA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKvCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yBAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yBAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,yBAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,eAGxB,EAAE,KAAK,EAAE,EACpBV,EAAK,UAAU,mBAAmB,YAAaS,CAAM,EACrDJ,EAAQ,QAAO,CACnB,CCnCA,IAAIM,EAAM,GACVX,EAAK,QAAQ,MAAM,QAAU,OAC7BA,EAAK,UAAU,iBAAiB,SAAWY,GAAU,CAGjD,GAFAA,EAAM,eAAc,EACpBD,EAASX,EAAK,UAAU,SAAS,CAAC,EAAE,MAAO,OACvCW,IAAU,GAAI,CACd,QAAQ,IAAI,QAAQ,EACpBC,EAAM,cAAc,QACpB,MACR,CACIA,EAAM,cAAc,QACpBZ,EAAK,UAAU,SAAS,CAAC,EAAE,aAAa,WAAY,MAAM,EAC1DA,EAAK,UAAU,UAAY,GAC3BA,EAAK,QAAQ,MAAM,QAAU,eAC7BE,EAAaS,CAAK,EACb,KAAMH,GAAa,CACZA,EAAS,KAAK,OAAS,GACvBK,EAAS,KAAK,CAAE,QAAS,oBAAoBL,EAAS,SAAS,mBAAmBA,EAAS,KAAK,MAAM,GAC9F,SAAU,WACV,gBAAiB,OACjB,aAAc,OACtC,CAAiB,EACDD,EAAcC,CAAQ,GAEnBK,EAAS,KAAK,CAAC,QAAQ,2DAA2DF,CAAK,uBAC1F,SAAU,WACV,gBAAiB,MACjB,aAAc,OACjB,CAAA,CACJ,CAAA,EAAE,MAAOG,GAAU,CAChB,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EAAE,QAAQ,IAAM,CACb,WAAW,IAAM,CAAEd,EAAK,UAAU,SAAS,CAAC,EAAE,gBAAgB,UAAU,CAAI,EAAE,GAAI,EAClFA,EAAK,QAAQ,MAAM,QAAU,MACzC,CAAS,CACT,CAAC"}